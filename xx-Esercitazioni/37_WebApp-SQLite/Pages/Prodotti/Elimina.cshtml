@page "{id:int}" 
@model EliminaModel

@using _37_WebApp_SQLite.Pages.Prodotti;
@using _37_WebApp_SQLite.Models;
@using _37_WebApp_SQLite.Utilities;

@{
    ViewData["Title"] = "Elimina Prodotto";
    //creiamo ViewDatauna chiave che salva la pagina di provenienza, tramite il Referer della request
    //il Referer Ã¨ l'indirizzo della pagina che ha fatto la richiesta
    ViewData["ReturnUrl"] = Request.Headers["Referer"].ToString();
}

<h2>Elimina Prodotto</h2>

<div>
    <table class="table table-bordered">
        <thred>
            <tr>
                <th>ID</th>
                <th>Nome</th>
                <th>Prezzo</th>
                <th>Categoria</th>
            </tr>
        </thred>
        <tbody>
            <tr>
                <td>@Model.Prodotto.Id</td>
                <td>@Model.Prodotto.Nome</td>
                <td>@PriceFormatter.Format(@Model.Prodotto.Prezzo)</td>
                <td>@Model.Prodotto.CategoriaNome</td>
            </tr>
        </tbody>
    </table>
</div>

<form method="post">
    <input type="hidden" asp-for="Prodotto.Id"/>

    <button type="submit" class="btn btn-primary my-3">Elimina Prodotto</button>
    @*<a class="btn btn-danger" href="@ViewData["ReturnUrl"]"><i class="fa-solid fa-solid fa-arrow-left"</i></a>*@
    <a asp-page="Index" class="btn btn-secondary">Annulla</a>
</form>

